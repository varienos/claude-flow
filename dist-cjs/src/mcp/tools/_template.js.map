{"version":3,"sources":["../../../../src/mcp/tools/_template.ts"],"sourcesContent":["/**\n * Tool Template for Filesystem-Based Tool Discovery\n *\n * This template provides the structure for individual MCP tools\n * following the progressive disclosure pattern.\n *\n * Usage:\n * 1. Copy this file to appropriate category directory\n * 2. Rename to match tool name (e.g., spawn.ts for agents/spawn)\n * 3. Update all [PLACEHOLDER] values\n * 4. Implement handler logic\n */\n\nimport type { MCPTool, ClaudeFlowToolContext } from '../types.js';\nimport type { ILogger } from '../../interfaces/logger.js';\n\n/**\n * Input interface for this tool\n * Define strongly-typed input parameters\n *\n * REPLACE: Rename ToolTemplateInput to match your tool name (e.g., AgentSpawnInput)\n */\ninterface ToolTemplateInput {\n  // Define input properties with types\n  // Example:\n  // name: string;\n  // config?: Record<string, unknown>;\n\n  // PLACEHOLDER: Add your input properties here\n  exampleProperty?: string;\n}\n\n/**\n * Result interface for this tool\n * Define strongly-typed return value\n *\n * REPLACE: Rename ToolTemplateResult to match your tool name (e.g., AgentSpawnResult)\n */\ninterface ToolTemplateResult {\n  success: boolean;\n  // Define result properties\n  // Example:\n  // resourceId: string;\n  // status: string;\n\n  // PLACEHOLDER: Add your result properties here\n  message?: string;\n}\n\n/**\n * Create tool template\n *\n * REPLACE: Update function name to match your tool (e.g., createAgentSpawnTool)\n * REPLACE: Update JSDoc description\n *\n * @param logger - Logger instance for structured logging\n * @returns MCPTool definition\n */\nexport function createToolTemplateTool(logger: ILogger): MCPTool {\n  return {\n    // REPLACE: Update name to match your tool (e.g., 'agents/spawn')\n    name: 'category/toolname',\n\n    // REPLACE: Update description with detailed information about your tool\n    description: 'Template for creating new MCP tools with progressive disclosure. Copy and customize this file.',\n\n    inputSchema: {\n      type: 'object',\n      properties: {\n        // Define JSON schema for input validation\n        // Example:\n        // name: {\n        //   type: 'string',\n        //   description: 'Resource name',\n        //   minLength: 1,\n        //   maxLength: 100,\n        // },\n      },\n      required: [], // List required properties\n    },\n\n    // Optional: Metadata for progressive disclosure\n    metadata: {\n      // REPLACE: Update category to match your tool's purpose\n      category: 'system', // agents, tasks, memory, system, etc.\n      // REPLACE: Add relevant searchable tags\n      tags: ['template', 'example'], // Searchable tags\n      examples: [\n        {\n          description: 'Example usage scenario',\n          input: {\n            // Example input object\n          },\n          expectedOutput: {\n            // Expected result object\n          },\n        },\n      ],\n      detailLevel: 'standard', // 'basic' | 'standard' | 'full'\n    },\n\n    /**\n     * Tool execution handler\n     *\n     * @param input - Validated input parameters\n     * @param context - Tool execution context with orchestrator, etc.\n     * @returns Tool result\n     */\n    handler: async (\n      input: any,\n      context?: ClaudeFlowToolContext\n    ): Promise<ToolTemplateResult> => {\n      // Validate context availability\n      if (!context?.orchestrator) {\n        throw new Error('Orchestrator not available in tool context');\n      }\n\n      // Cast input to typed interface\n      const validatedInput = input as ToolTemplateInput;\n\n      // REPLACE: Update log message to match your tool\n      logger.info('category/toolname invoked', {\n        input: validatedInput,\n        sessionId: context.sessionId,\n      });\n\n      try {\n        // ============================================\n        // IMPLEMENT TOOL LOGIC HERE\n        // ============================================\n\n        // Example:\n        // const result = await context.orchestrator.someMethod(validatedInput);\n\n        // ============================================\n        // END TOOL LOGIC\n        // ============================================\n\n        // Log success\n        logger.info('[namespace]/[toolname] completed successfully', {\n          input: validatedInput,\n        });\n\n        return {\n          success: true,\n          // Include result data\n        };\n      } catch (error) {\n        // Log error\n        logger.error('[namespace]/[toolname] failed', {\n          error,\n          input: validatedInput,\n        });\n\n        // Re-throw for MCP error handling\n        throw error;\n      }\n    },\n  };\n}\n\n/**\n * Export lightweight metadata for tool discovery\n * This is loaded without executing the full tool definition\n *\n * REPLACE: Update all fields to match your tool\n */\nexport const toolMetadata = {\n  name: 'category/toolname',\n  description: 'Brief one-line description of the tool',\n  category: 'system',\n  detailLevel: 'standard' as const,\n  tags: ['template', 'example'],\n};\n"],"names":["createToolTemplateTool","logger","name","description","inputSchema","type","properties","required","metadata","category","tags","examples","input","expectedOutput","detailLevel","handler","context","orchestrator","Error","validatedInput","info","sessionId","success","error","toolMetadata"],"mappings":"AA0DA,OAAO,SAASA,uBAAuBC,MAAe;IACpD,OAAO;QAELC,MAAM;QAGNC,aAAa;QAEbC,aAAa;YACXC,MAAM;YACNC,YAAY,CASZ;YACAC,UAAU,EAAE;QACd;QAGAC,UAAU;YAERC,UAAU;YAEVC,MAAM;gBAAC;gBAAY;aAAU;YAC7BC,UAAU;gBACR;oBACER,aAAa;oBACbS,OAAO,CAEP;oBACAC,gBAAgB,CAEhB;gBACF;aACD;YACDC,aAAa;QACf;QASAC,SAAS,OACPH,OACAI;YAGA,IAAI,CAACA,SAASC,cAAc;gBAC1B,MAAM,IAAIC,MAAM;YAClB;YAGA,MAAMC,iBAAiBP;YAGvBX,OAAOmB,IAAI,CAAC,6BAA6B;gBACvCR,OAAOO;gBACPE,WAAWL,QAAQK,SAAS;YAC9B;YAEA,IAAI;gBAaFpB,OAAOmB,IAAI,CAAC,iDAAiD;oBAC3DR,OAAOO;gBACT;gBAEA,OAAO;oBACLG,SAAS;gBAEX;YACF,EAAE,OAAOC,OAAO;gBAEdtB,OAAOsB,KAAK,CAAC,iCAAiC;oBAC5CA;oBACAX,OAAOO;gBACT;gBAGA,MAAMI;YACR;QACF;IACF;AACF;AAQA,OAAO,MAAMC,eAAe;IAC1BtB,MAAM;IACNC,aAAa;IACbM,UAAU;IACVK,aAAa;IACbJ,MAAM;QAAC;QAAY;KAAU;AAC/B,EAAE"}